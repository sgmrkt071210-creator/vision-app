{\rtf1\ansi\ansicpg932\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fnil\fcharset128 HiraginoSans-W3;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww29200\viewh16080\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 import React, \{ useState, useEffect, useMemo \} from 'react';\
import \{ Plus, CheckCircle2, Circle, Trash2, Tag, Trophy, Repeat, Heart, Loader2, Search, ChevronDown, ChevronUp, CalendarDays, ListTodo, Lightbulb, MessageSquare, X, Gift, Sparkles, BookOpen, RefreshCcw, AlertCircle, TrendingUp, Flag \} from 'lucide-react';\
\
// 
\f1 \'83\'4a\'83\'65\'83\'53\'83\'8a\'81\'5b\'92\'e8\'8b\'60
\f0 \
const CATEGORIES = \{\
  CHALLENGE: \{ id: 'CHALLENGE', label: '
\f1 \'83\'60\'83\'83\'83\'8c\'83\'93\'83\'57\'8c\'6e
\f0 ', color: 'bg-emerald-100 text-emerald-800 border-emerald-200', icon: Trophy \},\
  HABIT: \{ id: 'HABIT', label: '
\f1 \'8f\'4b\'8a\'b5\'8c\'6e
\f0 ', color: 'bg-green-100 text-green-800 border-green-200', icon: Repeat \},\
  HOBBY: \{ id: 'HOBBY', label: '
\f1 \'8e\'ef\'96\'a1\'8c\'6e
\f0 ', color: 'bg-lime-100 text-lime-800 border-lime-200', icon: Heart \},\
  PENDING: \{ id: 'PENDING', label: '
\f1 \'95\'aa\'90\'cd\'92\'86
\f0 ...', color: 'bg-gray-100 text-gray-500 border-gray-200', icon: Loader2 \},\
  NONE: \{ id: 'NONE', label: '
\f1 \'96\'a2\'95\'aa\'97\'de
\f0 ', color: 'bg-gray-50 text-gray-400 border-gray-100', icon: Tag \}\
\};\
\
const apiKey = "AIzaSyCDYNpkROIG0_M6X4eIemFAjpj54yvoNTM"; // 
\f1 \'83\'8d\'81\'5b\'83\'4a\'83\'8b\'8e\'c0\'8d\'73\'8e\'9e\'82\'cd\'82\'b1\'82\'b1\'82\'c9
\f0 API
\f1 \'83\'4c\'81\'5b\'82\'f0\'93\'fc\'97\'cd\'82\'b5\'82\'c4\'82\'ad\'82\'be\'82\'b3\'82\'a2
\f0 \
\
const App = () => \{\
  const [goals, setGoals] = useState([]);\
  const [inputValue, setInputValue] = useState('');\
  const [isAnalyzing, setIsAnalyzing] = useState(false);\
  const [filter, setFilter] = useState('ALL');\
  const [searchTerm, setSearchTerm] = useState('');\
  const [currentView, setCurrentView] = useState('goals'); \
  const [expandedGoalId, setExpandedGoalId] = useState(null);\
  \
  const today = new Date();\
  const currentMonth = today.getMonth() + 1;\
  const todayStr = useMemo(() => today.toISOString().split('T')[0], []);\
\
  // 
\f1 \'83\'66\'81\'5b\'83\'5e\'82\'cc\'93\'c7\'82\'dd\'8d\'9e\'82\'dd
\f0 \
  useEffect(() => \{\
    const saved = localStorage.getItem('new_year_100_goals_v15');\
    if (saved) \{\
      try \{ setGoals(JSON.parse(saved)); \} catch (e) \{ localStorage.removeItem('new_year_100_goals_v15'); \}\
    \}\
  \}, []);\
\
  // 
\f1 \'83\'66\'81\'5b\'83\'5e\'82\'cc\'95\'db\'91\'b6
\f0 \
  useEffect(() => \{\
    localStorage.setItem('new_year_100_goals_v15', JSON.stringify(goals));\
  \}, [goals]);\
\
  // 
\f1 \'8f\'4b\'8a\'b5\'82\'cc\'92\'42\'90\'ac\'97\'a6\'8c\'76\'8e\'5a
\f0 \
  const getHabitStats = (goal) => \{\
    if (goal.category !== 'HABIT' || !goal.createdAt) return \{ rate: 0, daysElapsed: 0, count: 0 \};\
    \
    const start = new Date(goal.createdAt);\
    const now = new Date();\
    const diffTime = Math.abs(now - start);\
    let daysElapsed = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\
    if (daysElapsed === 0) daysElapsed = 1;\
    if (daysElapsed > 30) daysElapsed = 30;\
\
    let count = 0;\
    for (let i = 0; i < daysElapsed; i++) \{\
      const d = new Date();\
      d.setDate(now.getDate() - i);\
      const ds = d.toISOString().split('T')[0];\
      if (goal.history && goal.history[ds]) count++;\
    \}\
\
    const rate = Math.round((count / daysElapsed) * 100);\
    return \{ rate, daysElapsed, count \};\
  \};\
\
  // AI
\f1 \'82\'c9\'82\'e6\'82\'e9\'96\'da\'95\'57\'95\'aa\'90\'cd
\f0 \
  const analyzeGoal = async (text) => \{\
    const systemPrompt = `\
      
\f1 \'82\'a0\'82\'c8\'82\'bd\'82\'cd\'96\'da\'95\'57\'92\'42\'90\'ac\'82\'cc\'90\'ed\'97\'aa\'83\'52\'83\'93\'83\'54\'83\'8b\'83\'5e\'83\'93\'83\'67\'8c\'93\'83\'81\'83\'93\'83\'5e\'81\'5b\'82\'c5\'82\'b7\'81\'42
\f0 \
      
\f1 \'93\'fc\'97\'cd\'82\'b3\'82\'ea\'82\'bd\'90\'56\'94\'4e\'82\'cc\'96\'da\'95\'57\'82\'f0\'95\'aa\'90\'cd\'82\'b5\'81\'41
\f0 JSON
\f1 \'8c\'60\'8e\'ae\'82\'c5\'95\'d4\'93\'9a\'82\'b5\'82\'c4\'82\'ad\'82\'be\'82\'b3\'82\'a2\'81\'42
\f0 \
      \
      
\f1 \'81\'79\'8f\'64\'97\'76\'81\'46\'8e\'8e\'8c\'b1\'81\'45\'8a\'fa\'8c\'c0\'82\'cc\'8e\'e6\'82\'e8\'88\'b5\'82\'a2\'81\'7a
\f0 \
      1. 
\f1 \'96\'da\'95\'57\'82\'c9\'81\'75\'8e\'8e\'8c\'b1\'81\'76\'81\'75\'8d\'87\'8a\'69\'81\'76\'81\'75\'8e\'91\'8a\'69\'81\'76\'82\'aa\'8a\'dc\'82\'dc\'82\'ea\'82\'e9\'8f\'ea\'8d\'87\'81\'41
\f0 isExam
\f1 \'82\'f0
\f0 true
\f1 \'82\'c9\'82\'b5\'81\'41\'82\'bb\'82\'cc\'8e\'8e\'8c\'b1\'82\'cc\'88\'ea\'94\'ca\'93\'49\'93\'ef\'88\'d5\'93\'78\'82\'c9\'8a\'ee\'82\'c3\'82\'a2\'82\'bd\'8b\'ef\'91\'cc\'93\'49\'82\'c8\'8a\'77\'8f\'4b\'83\'58\'83\'65\'83\'62\'83\'76\'82\'f0\'92\'f1\'8e\'a6\'82\'b5\'82\'c4\'82\'ad\'82\'be\'82\'b3\'82\'a2\'81\'42
\f0 \
      2. 
\f1 \'96\'da\'95\'57\'82\'c9\'81\'75\'81\'9b\'8c\'8e\'82\'dc\'82\'c5\'81\'76\'93\'99\'82\'cc\'8a\'fa\'93\'fa\'82\'aa\'82\'a0\'82\'e9\'8f\'ea\'8d\'87\'81\'41
\f0 2026
\f1 \'94\'4e
\f0 1
\f1 \'8c\'8e\'82\'f0\'8b\'4e\'93\'5f\'82\'c6\'82\'b5\'82\'c4\'8a\'fa\'8c\'c0\'82\'a9\'82\'e7\'8b\'74\'8e\'5a\'82\'b5\'82\'bd\'83\'8d\'81\'5b\'83\'68\'83\'7d\'83\'62\'83\'76\'82\'f0\'8d\'ec\'90\'ac\'82\'b5\'82\'c4\'82\'ad\'82\'be\'82\'b3\'82\'a2\'81\'42
\f0 \
      3. 
\f1 \'8a\'fa\'8c\'c0\'82\'c9\'8a\'d6\'82\'ed\'82\'e7\'82\'b8\'81\'75\'83\'60\'83\'83\'83\'8c\'83\'93\'83\'57\'8c\'6e\'81\'76\'82\'cd\'95\'4b\'82\'b8
\f0 1
\f1 \'8c\'8e\'82\'a9\'82\'e7
\f0 12
\f1 \'8c\'8e\'82\'dc\'82\'c5\'82\'cc\'81\'79\'91\'53
\f0 12
\f1 \'83\'96\'8c\'8e\'95\'aa\'81\'7a\'82\'cc\'83\'8d\'81\'5b\'83\'68\'83\'7d\'83\'62\'83\'76\'82\'f0
\f0 roadmap
\f1 \'83\'74\'83\'42\'81\'5b\'83\'8b\'83\'68\'82\'c9\'8d\'ec\'90\'ac\'82\'b5\'82\'c4\'82\'ad\'82\'be\'82\'b3\'82\'a2\'81\'42
\f0 \
      4. 
\f1 \'8e\'8e\'8c\'b1\'95\'d7\'8b\'ad\'93\'99\'82\'cc\'8f\'ea\'8d\'87\'81\'41\'8d\'87\'8a\'69\'81\'45\'92\'42\'90\'ac\'82\'c9\'95\'73\'89\'c2\'8c\'87\'82\'c8\'81\'75\'8d\'a1\'93\'fa\'82\'cc\'8f\'64\'93\'5f
\f0 TODO
\f1 \'81\'76\'82\'f0\'81\'79\'8c\'b5\'91\'49\'82\'b5\'82\'c4
\f0 3
\f1 \'82\'c2\'81\'7a\'8d\'ec\'90\'ac\'82\'b5\'82\'c4\'82\'ad\'82\'be\'82\'b3\'82\'a2\'81\'42
\f0 \
      5. 
\f1 \'8a\'fa\'8c\'c0\'82\'f0\'89\'df\'82\'ac\'82\'bd\'8c\'8e\'82\'c9\'82\'cd\'81\'75\'83\'81\'83\'93\'83\'65\'83\'69\'83\'93\'83\'58\'81\'76\'82\'e2\'81\'75\'8e\'9f\'82\'cc\'83\'58\'83\'65\'83\'62\'83\'76\'81\'76\'82\'f0\'8a\'84\'82\'e8\'93\'96\'82\'c4\'81\'41\'8b\'f3\'97\'93\'82\'c9\'82\'b5\'82\'c8\'82\'a2\'82\'c5\'82\'ad\'82\'be\'82\'b3\'82\'a2\'81\'42
\f0 \
\
      
\f1 \'95\'d4\'93\'9a\'8c\'60\'8e\'ae
\f0  (JSON
\f1 \'82\'cc\'82\'dd
\f0 ):\
      \{\
        "category": "CHALLENGE" | "HABIT" | "HOBBY",\
        "deadlineMonth": 5, \
        "isExam": true, \
        "roadmap": [\{"month": 1, "task": "
\f1 \'8a\'ee\'91\'62\'8c\'c5\'82\'df
\f0 "\}, \{"month": 2, "task": "..."\}, ... \{"month": 12, "task": "..."\}],\
        "subTasks": ["TODO1", "TODO2", "TODO3"], \
        "advice": "...", \
        "rewardIdea": "..."\
      \}\
    `;\
\
    try \{\
      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=$\{apiKey\}`, \{\
        method: 'POST',\
        headers: \{ 'Content-Type': 'application/json' \},\
        body: JSON.stringify(\{\
          contents: [\{ parts: [\{ text: `
\f1 \'96\'da\'95\'57
\f0 : $\{text\}` \}] \}],\
          systemInstruction: \{ parts: [\{ text: systemPrompt \}] \},\
          generationConfig: \{ responseMimeType: "application/json" \}\
        \})\
      \});\
\
      const result = await response.json();\
      const content = JSON.parse(result.candidates?.[0]?.content?.parts?.[0]?.text);\
      if (content.subTasks && content.subTasks.length > 3) content.subTasks = content.subTasks.slice(0, 3);\
      return content;\
    \} catch (error) \{\
      console.error(error);\
      return \{ category: 'NONE', roadmap: [], subTasks: [], advice: "
\f1 \'95\'aa\'90\'cd\'82\'c9\'8e\'b8\'94\'73\'82\'b5\'82\'dc\'82\'b5\'82\'bd\'81\'42
\f0 " \};\
    \}\
  \};\
\
  // 
\f1 \'96\'da\'95\'57\'82\'cc\'92\'c7\'89\'c1
\f0 \
  const handleAddGoal = async (e) => \{\
    e.preventDefault();\
    if (!inputValue.trim() || goals.length >= 100) return;\
    const tempId = Date.now();\
    const newGoal = \{ id: tempId, text: inputValue, completed: false, category: 'PENDING', subTasks: [], history: \{\}, createdAt: new Date().toISOString() \};\
    setGoals([newGoal, ...goals]);\
    setInputValue('');\
    setIsAnalyzing(true);\
    const analysis = await analyzeGoal(inputValue);\
    setGoals(prev => prev.map(g => g.id === tempId ? \{\
      ...g,\
      category: analysis.category,\
      deadlineMonth: analysis.deadlineMonth,\
      isExam: analysis.isExam,\
      roadmap: analysis.roadmap || [],\
      subTasks: (analysis.subTasks || []).map((t, i) => (\{ id: `$\{tempId\}_$\{i\}`, text: t, completed: false \})),\
      advice: analysis.advice,\
      rewardIdea: analysis.rewardIdea,\
    \} : g));\
    setIsAnalyzing(false);\
  \};\
\
  const toggleGoal = (id) => setGoals(goals.map(g => g.id === id ? \{ ...g, completed: !g.completed \} : g));\
  const deleteGoal = (id) => setGoals(goals.filter(g => g.id !== id));\
  const changeCategory = (goalId, newCategory) => \{\
    setGoals(goals.map(g => g.id === goalId ? \{ ...g, category: newCategory \} : g));\
  \};\
  const toggleSubTask = (goalId, subId) => setGoals(goals.map(g => g.id === goalId ? \{\
    ...g, subTasks: g.subTasks.map(st => st.id === subId ? \{ ...st, completed: !st.completed \} : st)\
  \} : g));\
  const toggleHabit = (id) => setGoals(goals.map(g => \{\
    if (g.id !== id) return g;\
    const history = \{ ...g.history \};\
    history[todayStr] = !history[todayStr];\
    return \{ ...g, history \};\
  \}));\
\
  const filteredGoals = useMemo(() => goals.filter(g => (filter === 'ALL' || g.category === filter) && g.text.toLowerCase().includes(searchTerm.toLowerCase())), [goals, filter, searchTerm]);\
\
  const dailyChallengeGoals = useMemo(() => \{\
    return goals.filter(g => \{\
      if (g.category !== 'CHALLENGE' || g.completed) return false;\
      if (!g.deadlineMonth) return true;\
      if (currentMonth <= g.deadlineMonth) return true;\
      if (currentMonth > 9 && g.deadlineMonth < 6) return true;\
      return false;\
    \});\
  \}, [goals, currentMonth]);\
\
  const stats = \{\
    total: goals.length,\
    completed: goals.filter(g => g.completed).length,\
    challenge: goals.filter(g => g.category === 'CHALLENGE').length,\
    habit: goals.filter(g => g.category === 'HABIT').length,\
    hobby: goals.filter(g => g.category === 'HOBBY').length,\
  \};\
\
  return (\
    <div className="min-h-screen bg-stone-50 text-slate-900 pb-24 font-sans selection:bg-emerald-100">\
      <header className="bg-white border-b sticky top-0 z-30 shadow-sm">\
        <div className="max-w-3xl mx-auto px-4 py-4">\
          <div className="flex justify-between items-center mb-4">\
            <h1 className="text-xl font-black flex items-center gap-2 text-emerald-900">\
              <Sparkles className="text-emerald-600 fill-emerald-600" size=\{24\} /> 2026 Vision 100\
            </h1>\
            <div className="bg-emerald-700 px-3 py-1 rounded-full shadow-lg shadow-emerald-100">\
              <span className="text-xs font-black text-white">
\f1 \'92\'42\'90\'ac\'97\'a6
\f0  \{Math.round((stats.completed / (stats.total || 1)) * 100)\}%</span>\
            </div>\
          </div>\
          <div className="flex p-1 bg-emerald-50/50 rounded-2xl border border-emerald-100">\
            <button onClick=\{() => setCurrentView('goals')\} className=\{`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all $\{currentView === 'goals' ? 'bg-white shadow text-emerald-800' : 'text-emerald-600/60 hover:text-emerald-700'\}`\}>\
              <Trophy size=\{16\} /> 
\f1 \'91\'53\'96\'da\'95\'57
\f0 \
            </button>\
            <button onClick=\{() => setCurrentView('daily')\} className=\{`flex-1 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-all $\{currentView === 'daily' ? 'bg-white shadow text-emerald-800' : 'text-emerald-600/60 hover:text-emerald-700'\}`\}>\
              <ListTodo size=\{16\} /> 
\f1 \'8d\'a1\'93\'fa\'82\'cc
\f0 TODO\
            </button>\
          </div>\
        </div>\
      </header>\
\
      <main className="max-w-3xl mx-auto px-4 py-6">\
        \{currentView === 'goals' ? (\
          <>\
            \{/* 
\f1 \'93\'fc\'97\'cd\'83\'47\'83\'8a\'83\'41
\f0  */\}\
            <form onSubmit=\{handleAddGoal\} className="mb-8 relative group">\
              <input\
                value=\{inputValue\}\
                onChange=\{(e) => setInputValue(e.target.value)\}\
                placeholder="
\f1 \'90\'56\'82\'b5\'82\'a2\'96\'da\'95\'57\'81\'69\'97\'e1\'81\'46\'96\'88\'94\'d3
\f0 10
\f1 \'95\'aa\'82\'cc\'83\'58\'83\'67\'83\'8c\'83\'62\'83\'60\'81\'6a
\f0 "\
                disabled=\{isAnalyzing\}\
                className="w-full pl-6 pr-16 py-5 bg-white border-2 border-emerald-100 rounded-[2rem] focus:border-emerald-600 outline-none shadow-sm text-lg transition-all focus:ring-4 focus:ring-emerald-50"\
              />\
              <button disabled=\{isAnalyzing || !inputValue.trim()\} className="absolute right-3 top-3 p-3 bg-emerald-700 text-white rounded-full hover:bg-emerald-800 disabled:bg-slate-300 transition-all shadow-lg active:scale-90">\
                \{isAnalyzing ? <Loader2 className="animate-spin" size=\{24\} /> : <Plus size=\{24\} />\}\
              </button>\
            </form>\
\
            \{/* 
\f1 \'83\'4a\'83\'65\'83\'53\'83\'8a\'81\'5b\'83\'74\'83\'42\'83\'8b\'83\'5e
\f0  */\}\
            <div className="grid grid-cols-3 gap-3 mb-8">\
              \{['CHALLENGE', 'HABIT', 'HOBBY'].map(id => (\
                <button key=\{id\} onClick=\{() => setFilter(filter === id ? 'ALL' : id)\} className=\{`p-4 rounded-[2rem] border-2 transition-all flex flex-col items-center $\{filter === id ? 'border-emerald-600 bg-emerald-50 shadow-inner' : 'bg-white border-emerald-50 shadow-sm'\}`\}>\
                  \{React.createElement(CATEGORIES[id].icon, \{ size: 24, className: filter === id ? 'text-emerald-700' : 'text-emerald-300' \})\}\
                  <span className=\{`text-[10px] font-black mt-1 uppercase $\{filter === id ? 'text-emerald-800' : 'text-slate-400'\}`\}>\{CATEGORIES[id].label\}</span>\
                  <span className=\{`text-2xl font-black leading-tight $\{filter === id ? 'text-emerald-900' : 'text-slate-700'\}`\}>\{stats[id.toLowerCase()]\}</span>\
                </button>\
              ))\}\
            </div>\
\
            \{/* 
\f1 \'96\'da\'95\'57\'83\'8a\'83\'58\'83\'67
\f0  */\}\
            <div className="space-y-4">\
              \{filteredGoals.map(goal => \{\
                const isExpanded = expandedGoalId === goal.id;\
                const cat = CATEGORIES[goal.category] || CATEGORIES.NONE;\
                const habitStats = goal.category === 'HABIT' ? getHabitStats(goal) : null;\
                const isWarning = habitStats && habitStats.rate < 80 && habitStats.daysElapsed >= 3;\
\
                return (\
                  <div key=\{goal.id\} className=\{`bg-white rounded-[2.5rem] border transition-all shadow-sm $\{goal.completed ? 'opacity-60 border-emerald-50 bg-emerald-50/20' : isWarning ? 'border-red-200 bg-red-50/10' : 'border-emerald-100'\}`\}>\
                    <div className="p-6 flex items-center gap-5 cursor-pointer" onClick=\{() => setExpandedGoalId(isExpanded ? null : goal.id)\}>\
                      <button onClick=\{(e) => \{ e.stopPropagation(); toggleGoal(goal.id); \}\} className=\{`shrink-0 transition-transform active:scale-75 $\{goal.completed ? 'text-emerald-600' : 'text-emerald-200 hover:text-emerald-600'\}`\}>\
                        \{goal.completed ? <CheckCircle2 size=\{32\} /> : <Circle size=\{32\} />\}\
                      </button>\
                      <div className="flex-grow">\
                        <div className="flex items-center gap-2">\
                          <h3 className=\{`text-lg font-bold text-emerald-950 leading-snug $\{goal.completed ? 'line-through text-slate-400 font-normal italic' : ''\}`\}>\{goal.text\}</h3>\
                          \{isWarning && <AlertCircle className="text-red-500 animate-pulse shrink-0" size=\{20\} />\}\
                        </div>\
                        <div className="flex flex-wrap items-center gap-2 mt-2">\
                          <span className=\{`text-[10px] font-black px-3 py-1 rounded-full border uppercase tracking-widest $\{cat.color\}`\}>\{cat.label\}</span>\
                          \{goal.category === 'HABIT' && habitStats && (\
                            <span className=\{`text-[10px] font-black px-2 py-1 rounded-full border flex items-center gap-1 $\{isWarning ? 'bg-red-100 text-red-700 border-red-200' : 'bg-emerald-50 text-emerald-700 border-emerald-200'\}`\}>\
                              \{isWarning ? <TrendingUp className="rotate-180" size=\{10\} /> : <TrendingUp size=\{10\} />\}\
                              
\f1 \'92\'42\'90\'ac\'97\'a6
\f0  \{habitStats.rate\}%\
                            </span>\
                          )\}\
                        </div>\
                      </div>\
                      <div className="flex flex-col items-end gap-3 shrink-0 text-emerald-300">\
                         <button onClick=\{(e) => \{ e.stopPropagation(); deleteGoal(goal.id); \}\} className="hover:text-red-500 transition-colors p-1"><Trash2 size=\{18\} /></button>\
                         <div className=\{`p-1.5 bg-emerald-50 rounded-full transition-transform $\{isExpanded ? 'rotate-180 bg-emerald-100 text-emerald-800' : ''\}`\}><ChevronDown size=\{20\} /></div>\
                      </div>\
                    </div>\
\
                    \{/* 
\f1 \'8f\'da\'8d\'d7\'83\'47\'83\'8a\'83\'41
\f0  */\}\
                    \{isExpanded && (\
                      <div className="px-8 pb-8 border-t border-emerald-50 bg-emerald-50/10 space-y-6 pt-6 animate-fadeIn">\
                        \
                        \{/* 
\f1 \'92\'42\'90\'ac\'97\'a6\'8c\'78\'8d\'90
\f0  */\}\
                        \{isWarning && (\
                          <div className="bg-red-100 border-2 border-red-200 p-4 rounded-3xl flex items-center gap-4 text-red-800">\
                            <div className="bg-red-500 p-2 rounded-full text-white"><AlertCircle size=\{24\} /></div>\
                            <div>\
                              <p className="font-black text-sm">
\f1 \'97\'76\'92\'8d\'88\'d3\'81\'46\'92\'42\'90\'ac\'97\'a6\'82\'aa
\f0 80%
\f1 \'82\'f0\'90\'d8\'82\'c1\'82\'c4\'82\'a2\'82\'dc\'82\'b7\'81\'49
\f0 </p>\
                              <p className="text-xs font-bold opacity-80">
\f1 \'92\'bc\'8b\'df
\f0 \{habitStats.daysElapsed\}
\f1 \'93\'fa\'8a\'d4\'82\'cc\'8e\'c0\'8e\'7b\'97\'a6\'82\'cd
\f0  \{habitStats.rate\}% 
\f1 \'82\'c5\'82\'b7\'81\'42
\f0 </p>\
                            </div>\
                          </div>\
                        )\}\
\
                        \{/* 
\f1 \'83\'4a\'83\'65\'83\'53\'83\'8a\'81\'5b\'95\'cf\'8d\'58
\f0  */\}\
                        <div>\
                          <h4 className="text-[11px] font-black text-emerald-800/40 uppercase tracking-widest mb-3 flex items-center gap-2"><RefreshCcw size=\{14\} className="text-emerald-400" /> 
\f1 \'83\'4a\'83\'65\'83\'53\'83\'8a\'81\'5b\'82\'f0\'95\'cf\'8d\'58
\f0 </h4>\
                          <div className="flex gap-2 p-1 bg-white/50 rounded-2xl border border-emerald-50 w-fit">\
                            \{['CHALLENGE', 'HABIT', 'HOBBY'].map((type) => (\
                              <button\
                                key=\{type\}\
                                onClick=\{() => changeCategory(goal.id, type)\}\
                                className=\{`px-4 py-1.5 rounded-xl text-[10px] font-black transition-all $\{\
                                  goal.category === type \
                                  ? `$\{CATEGORIES[type].color\} shadow-sm ring-1 ring-emerald-200` \
                                  : 'text-slate-400 hover:bg-emerald-50 hover:text-emerald-700'\
                                \}`\}\
                              >\
                                \{CATEGORIES[type].label\}\
                              </button>\
                            ))\}\
                          </div>\
                        </div>\
\
                        \{/* 
\f1 \'83\'60\'83\'83\'83\'8c\'83\'93\'83\'57\'8c\'6e\'8f\'da\'8d\'d7
\f0  */\}\
                        \{goal.category === 'CHALLENGE' && (\
                          <div className="space-y-8">\
                            <div>\
                              <h4 className="text-[11px] font-black text-emerald-800/40 uppercase tracking-widest mb-4 flex items-center gap-2"><CalendarDays size=\{14\} className="text-emerald-400" /> 
\f1 \'94\'4e\'8a\'d4\'83\'8d\'81\'5b\'83\'68\'83\'7d\'83\'62\'83\'76
\f0 </h4>\
                              <div className="space-y-3 relative before:absolute before:left-[11px] before:top-2 before:bottom-2 before:w-0.5 before:bg-emerald-100">\
                                \{(goal.roadmap || []).map((step, idx) => \{\
                                  const isCurrent = currentMonth === step.month;\
                                  const isPassed = currentMonth > step.month;\
                                  return (\
                                    <div key=\{idx\} className=\{`relative pl-8 transition-all $\{isCurrent ? 'scale-[1.02] z-10' : ''\}`\}>\
                                      <div className=\{`absolute left-0 top-1.5 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors $\{\
                                        isCurrent ? 'bg-emerald-700 border-emerald-700 text-white shadow-lg' : \
                                        isPassed ? 'bg-emerald-100 border-emerald-200 text-emerald-600' : 'bg-white border-emerald-100 text-slate-300'\
                                      \}`\}>\
                                        <span className="text-[10px] font-black">\{step.month\}</span>\
                                      </div>\
                                      <div className=\{`p-4 rounded-2xl border transition-all $\{\
                                        isCurrent ? 'bg-white border-emerald-600 shadow-md ring-1 ring-emerald-50' : \
                                        isPassed ? 'bg-white/50 border-emerald-50 opacity-80' : 'bg-white border-slate-100'\
                                      \}`\}>\
                                        <span className=\{`text-[10px] font-black uppercase tracking-wider $\{isCurrent ? 'text-emerald-700' : 'text-slate-400'\}`\}>\
                                          \{step.month\}
\f1 \'8c\'8e
\f0 \
                                          \{isCurrent && <span className="ml-2 bg-emerald-100 px-2 py-0.5 rounded text-[9px]">
\f1 \'8d\'a1\'8c\'8e\'82\'cc\'83\'58\'83\'65\'83\'62\'83\'76
\f0 </span>\}\
                                        </span>\
                                        <p className=\{`text-sm font-bold leading-relaxed mt-1 $\{isCurrent ? 'text-emerald-950' : 'text-slate-600'\}`\}>\{step.task\}</p>\
                                      </div>\
                                    </div>\
                                  );\
                                \})\}\
                              </div>\
                            </div>\
                            <div>\
                              <h4 className="text-[11px] font-black text-emerald-800/40 uppercase tracking-widest mb-4 flex items-center gap-2"><ListTodo size=\{14\} className="text-emerald-400" /> 
\f1 \'8d\'a1\'93\'fa\'82\'cc\'8f\'64\'93\'5f
\f0 TODO</h4>\
                              <div className="space-y-2">\
                                \{goal.subTasks?.map(st => (\
                                  <div key=\{st.id\} className="flex items-center gap-4 bg-white p-4 rounded-2xl border border-emerald-50 shadow-sm hover:border-emerald-200 transition-all">\
                                    <button onClick=\{() => toggleSubTask(goal.id, st.id)\} className=\{st.completed ? 'text-emerald-600' : 'text-emerald-200'\}>\{st.completed ? <CheckCircle2 size=\{24\} /> : <Circle size=\{24\} />\}</button>\
                                    <span className=\{st.completed ? 'line-through text-slate-400 font-normal' : 'text-emerald-900 font-bold'\}>\{st.text\}</span>\
                                  </div>\
                                ))\}\
                              </div>\
                            </div>\
                          </div>\
                        )\}\
\
                        \{/* 
\f1 \'8f\'4b\'8a\'b5\'8c\'6e\'8f\'da\'8d\'d7
\f0  */\}\
                        \{goal.category === 'HABIT' && (\
                          <div className="space-y-6">\
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">\
                              <div className="bg-emerald-700 p-5 rounded-[2rem] shadow-lg shadow-emerald-100">\
                                <h4 className="text-[11px] font-black text-emerald-200 mb-2 uppercase tracking-widest">
\f1 \'8c\'70\'91\'b1\'83\'58\'83\'65\'81\'5b\'83\'5e\'83\'58
\f0 </h4>\
                                <div className="text-white">\
                                  <div className="text-3xl font-black">\{habitStats.rate\}<span className="text-sm ml-1">%</span></div>\
                                  <p className="text-[10px] font-bold opacity-70">
\f1 \'89\'df\'8b\'8e
\f0 \{habitStats.daysElapsed\}
\f1 \'93\'fa\'8a\'d4\'82\'cc\'8e\'c0\'8e\'7b\'8f\'f3\'8b\'b5
\f0 </p>\
                                </div>\
                              </div>\
                              <div className="bg-emerald-50 p-5 rounded-[2rem] border border-emerald-200">\
                                <h4 className="text-[11px] font-black text-emerald-800 mb-2 uppercase tracking-widest">
\f1 \'83\'41\'83\'68\'83\'6f\'83\'43\'83\'58
\f0 </h4>\
                                <p className="text-sm text-emerald-900 font-bold leading-relaxed">\{goal.advice || "
\f1 \'95\'aa\'90\'cd\'92\'86
\f0 ..."\}</p>\
                              </div>\
                            </div>\
                            <div>\
                              <h4 className="text-[11px] font-black text-emerald-800/40 mb-4 uppercase tracking-[0.2em]">
\f1 \'8c\'70\'91\'b1\'83\'8d\'83\'4f
\f0 </h4>\
                              <div className="flex flex-wrap gap-2 p-5 bg-white rounded-[2rem] border border-emerald-100">\
                                \{[...Array(60)].map((_, i) => \{\
                                  const d = new Date(); d.setDate(d.getDate() - (59 - i));\
                                  const ds = d.toISOString().split('T')[0];\
                                  return (\
                                    <div key=\{i\} className=\{`w-3.5 h-3.5 rounded-md $\{goal.history[ds] ? 'bg-emerald-500' : 'bg-slate-100'\}`\} />\
                                  );\
                                \})\}\
                              </div>\
                            </div>\
                          </div>\
                        )\}\
                        \{/* 
\f1 \'8e\'ef\'96\'a1\'8c\'6e\'8f\'da\'8d\'d7
\f0  */\}\
                        \{goal.category === 'HOBBY' && (\
                          <div className="bg-emerald-900 p-6 rounded-[2.5rem] shadow-xl text-white">\
                            <h4 className="text-[11px] font-black text-emerald-300 mb-2 uppercase tracking-widest">
\f1 \'8a\'79\'82\'b5\'82\'dd\'82\'f0\'94\'7b\'91\'9d\'82\'b3\'82\'b9\'82\'e9\'83\'71\'83\'93\'83\'67
\f0 </h4>\
                            <p className="text-sm font-bold leading-relaxed">\{goal.advice || "
\f1 \'83\'71\'83\'93\'83\'67\'82\'f0\'90\'b6\'90\'ac\'92\'86\'82\'c5\'82\'b7
\f0 ..."\}</p>\
                          </div>\
                        )\}\
                      </div>\
                    )\}\
                  </div>\
                );\
              \})\}\
            </div>\
          </>\
        ) : (\
          /* 
\f1 \'8d\'a1\'93\'fa\'89\'e6\'96\'ca
\f0  */\
          <div className="space-y-10 animate-fadeIn">\
            <section>\
              <h2 className="text-xs font-black text-emerald-800/40 mb-6 flex items-center gap-3 uppercase px-4 tracking-[0.2em]"><Repeat size=\{20\} className="text-emerald-600" /> 
\f1 \'8d\'a1\'93\'fa\'82\'cc\'8f\'4b\'8a\'b5
\f0 </h2>\
              <div className="grid grid-cols-1 gap-4">\
                \{goals.filter(g => g.category === 'HABIT').map(g => \{\
                  const stats = getHabitStats(g);\
                  const isWarning = stats.rate < 80 && stats.daysElapsed >= 3;\
                  return (\
                    <button key=\{g.id\} onClick=\{() => toggleHabit(g.id)\} className=\{`w-full p-6 rounded-[2.5rem] border-2 flex items-center gap-5 transition-all shadow-sm active:scale-[0.98] $\{g.history[todayStr] ? 'bg-emerald-700 border-emerald-800 text-white shadow-emerald-200 shadow-lg' : isWarning ? 'bg-red-50 border-red-200 text-red-900' : 'bg-white border-white text-emerald-900 hover:border-emerald-200'\}`\}>\
                      \{g.history[todayStr] ? <CheckCircle2 className="text-emerald-200 shrink-0" size=\{32\} /> : <Circle className=\{`$\{isWarning ? 'text-red-200' : 'text-emerald-50'\} shrink-0`\} size=\{32\} />\}\
                      <div className="flex flex-col items-start text-left">\
                        <span className="text-lg font-black leading-tight">\{g.text\}</span>\
                        <span className=\{`text-[10px] font-bold $\{g.history[todayStr] ? 'text-emerald-200' : isWarning ? 'text-red-500' : 'text-emerald-400'\}`\}>
\f1 \'92\'42\'90\'ac\'97\'a6
\f0  \{stats.rate\}%</span>\
                      </div>\
                    </button>\
                  );\
                \})\}\
              </div>\
            </section>\
            \
            <section>\
              <h2 className="text-xs font-black text-emerald-800/40 mb-6 flex items-center gap-3 uppercase px-4 tracking-[0.2em]"><Trophy size=\{20\} className="text-emerald-600" /> 
\f1 \'8d\'a1\'93\'fa\'82\'cc\'83\'41\'83\'4e\'83\'56\'83\'87\'83\'93
\f0 </h2>\
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-5">\
                \{dailyChallengeGoals.map(g => (\
                  <div key=\{g.id\} className="bg-white rounded-[2.5rem] border border-emerald-50 p-6 shadow-sm border-b-8 border-b-emerald-700/10">\
                    <p className=\{`text-[10px] font-black px-4 py-1.5 rounded-full inline-block uppercase tracking-widest mb-4 $\{g.isExam ? 'bg-emerald-700 text-white' : 'bg-emerald-50 text-emerald-800 border border-emerald-100'\}`\}>\{g.text\}</p>\
                    <div className="space-y-3">\
                      \{g.subTasks.filter(st => !st.completed).map(st => (\
                        <button key=\{st.id\} onClick=\{() => toggleSubTask(g.id, st.id)\} className="w-full flex items-center gap-4 p-4 rounded-2xl bg-emerald-50/50 hover:bg-emerald-700 hover:text-white text-left transition-all active:scale-[0.96] shadow-sm group">\
                          <Circle size=\{24\} className="text-emerald-200 shrink-0 group-hover:text-emerald-300" />\
                          <span className="text-sm font-bold leading-snug group-hover:text-white text-emerald-950">\{st.text\}</span>\
                        </button>\
                      ))\}\
                    </div>\
                  </div>\
                ))\}\
              </div>\
            </section>\
          </div>\
        )\}\
      </main>\
    </div>\
  );\
\};\
\
export default App;}